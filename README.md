# FindLove User API - เบฅเบฐเบเบปเบเบเบฑเบเบเบฒเบเบเบนเปเปเบเป

เบฅเบฐเบเบปเบ Backend เบเบตเปเบชเบปเบกเบเบนเบเบชเบณเบฅเบฑเบเบเบฒเบเบเบฑเบเบเบฒเบเบเบนเปเปเบเป เปเบเป FastAPI, SQLAlchemy, เปเบฅเบฐ PostgreSQL

## ๐ เปเบเบเบชเปเบฒเบเปเบเบฃเปเบเบฑเบ

```
findlove-backend/
โ
โโโ config/
โ   โโโ __init__.py
โ   โโโ database.py          # เบเบฒเบเบเบฑเปเบเบเปเบฒเบเบฒเบเบเปเปเบกเบนเบ
โ
โโโ models/
โ   โโโ __init__.py
โ   โโโ user.py              # เปเบเบเบเบณเบฅเบญเบเบเบนเปเปเบเป
โ
โโโ controllers/
โ   โโโ __init__.py
โ   โโโ user_controller.py   # เบฅเบฐเบเบปเบเบเบงเบเบเบธเบกเบเบนเปเปเบเป
โ
โโโ routes/
โ   โโโ __init__.py
โ   โโโ user_routes.py       # เปเบชเบฑเปเบเบเบฒเบ API
โ
โโโ schemas/
โ   โโโ __init__.py
โ   โโโ user_schemas.py      # เบเบฒเบเบเบงเบเบชเบญเบเบเปเปเบกเบนเบ
โ
โโโ .env                     # เบเบปเบงเปเบเบชเบฐเบเบฒเบเปเบงเบเบฅเปเบญเบก
โโโ requirements.txt         # เบฅเบฒเบเบเบฒเบเปเบเบฑเบเปเบเบตเบ
โโโ main.py                  # เบเบธเบเปเบฅเบตเปเบกเบเบปเปเบเปเบญเบฑเบเบเบฅเบดเปเบเบเบฑเบ
โโโ README.md               # เปเบเบฅเปเบเบตเป
```

## ๐ เบงเบดเบเบตเบเบฒเบเปเบฅเบตเปเบกเบเบปเปเบ

### 1. เบเบงเบฒเบกเบเปเบญเบเบเบฒเบเปเบเบทเปเบญเบเบเบปเปเบ

- Python 3.8 เบเบถเปเบเปเบ
- PostgreSQL
- pip

### 2. เบเบฒเบเบเบดเบเบเบฑเปเบ

```bash
# เบชเปเบฒเบเปเบเบเปเบเบตเปเบเบฃเปเบเบฑเบ
mkdir findlove-backend
cd findlove-backend

# เบชเปเบฒเบเบชเบฐเบเบฒเบเปเบงเบเบฅเปเบญเบกเปเบชเบกเบทเบญเบ
python -m venv venv

# เปเบเบตเบเปเบเปเบเบฒเบเบชเบฐเบเบฒเบเปเบงเบเบฅเปเบญเบกเปเบชเบกเบทเบญเบ
# เบชเบณเบฅเบฑเบ Windows:
venv\Scripts\activate
# เบชเบณเบฅเบฑเบ macOS/Linux:
source venv/bin/activate
```

### 3. เบเบดเบเบเบฑเปเบเปเบเบฑเบเปเบเบตเบ

```bash
# เบเบดเบเบเบฑเปเบเปเบเบเบเบตเบฅเบฐเบเบปเบง
pip install fastapi
pip install uvicorn[standard]
pip install psycopg2-binary
pip install sqlalchemy
pip install pydantic
pip install python-dotenv
pip install python-multipart
```

### 4. เบเบฑเปเบเบเปเบฒเบเบฒเบเบเปเปเบกเบนเบ

เปเบซเปเปเบเปเปเบเบงเปเบฒ PostgreSQL เบเบณเบฅเบฑเบเปเบฎเบฑเบเบงเบฝเบ เปเบฅเบฐ เบชเปเบฒเบเบเบฒเบเบเปเปเบกเบนเบ:

```sql
-- เปเบเบทเปเบญเบกเบเปเป PostgreSQL เปเบเบเบฒเบเบฐเบเบนเปเบเปเบฅเบดเบซเบฒเบ
psql -U postgres

-- เบชเปเบฒเบเบเบฒเบเบเปเปเบกเบนเบ
CREATE DATABASE findlovedb;

-- เบชเปเบฒเบเบเบนเปเปเบเป (เบเปเปเบเบฑเบเบเบฑเบ)
CREATE USER findlove_user WITH PASSWORD '123';
GRANT ALL PRIVILEGES ON DATABASE findlovedb TO findlove_user;
```

### 5. เบเบฒเบเบเบฑเปเบเบเปเบฒเบชเบฐเบเบฒเบเปเบงเบเบฅเปเบญเบก

เบชเปเบฒเบเปเบเบฅเป `.env` เปเบเปเบเบเปเบเบตเบซเบผเบฑเบ:

```env
# เบเบฒเบเบเปเปเบกเบนเบ
DB_HOST=localhost
DB_PORT=5432
DB_NAME=findlovedb
DB_USER=postgres
DB_PASS=123

# เบเบฒเบเบเบฑเปเบเบเปเบฒเปเบญเบฑเบเบเบฅเบดเปเบเบเบฑเบ
SECRET_KEY=your-secret-key-here-change-this-in-production
DEBUG=True
```

### 6. เบชเปเบฒเบเปเบเบเบชเปเบฒเบเปเบเบเปเบเบต

```bash
# เบชเปเบฒเบเปเบเบเปเบเบต
mkdir config models controllers routes schemas

# เบชเปเบฒเบเปเบเบฅเป __init__.py
touch config/__init__.py
touch models/__init__.py
touch controllers/__init__.py
touch routes/__init__.py
touch schemas/__init__.py
```

### 7. เปเบฎเบฑเบเบงเบฝเบเปเบญเบฑเบเบเบฅเบดเปเบเบเบฑเบ

```bash
python main.py
```

API เบเบฐเบเปเบญเบกเปเบเปเบเบฒเบเบเบตเป: `http://localhost:8000`

## ๐ เปเบญเบเบฐเบชเบฒเบ API

เปเบกเบทเปเบญเปเบเบตเปเบงเบตเปเบฎเบฑเบเบงเบฝเบเปเบฅเปเบง, เบเปเบฒเบเบชเบฒเบกเบฒเบเปเบเบปเปเบฒเปเบเบดเบ:

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

## ๐ เปเบชเบฑเปเบเบเบฒเบ API

### เบเบฒเบเบเบฑเบเบเบฒเบเบเบนเปเปเบเป

| เบงเบดเบเบต | เปเบชเบฑเปเบเบเบฒเบ | เบเบณเบญเบฐเบเบดเบเบฒเบ |
|------|----------|-------------|
| POST | `/api/users/` | เบชเปเบฒเบเบเบนเปเปเบเปเปเปเป |
| GET | `/api/users/` | เปเบญเบปเบฒเบเบนเปเปเบเปเบเบฑเบเปเบปเบ |
| GET | `/api/users/{user_id}` | เปเบญเบปเบฒเบเบนเปเปเบเปเบเบฒเบก ID |
| PUT | `/api/users/{user_id}` | เบญเบฑเบเปเบเบเบเบนเปเปเบเป |
| DELETE | `/api/users/{user_id}` | เบฅเบถเบเบเบนเปเปเบเป |
| POST | `/api/users/login` | เปเบเบปเปเบฒเบชเบนเปเบฅเบฐเบเบปเบ |
| GET | `/api/users/username/{username}` | เปเบญเบปเบฒเบเบนเปเปเบเปเบเบฒเบกเบเบทเปเบเบนเปเปเบเป |
| GET | `/api/users/email/{email}` | เปเบญเบปเบฒเบเบนเปเปเบเปเบเบฒเบกเบญเบตเปเบกเบง |

### เบเบปเบงเบขเปเบฒเบเบเบฒเบเปเบเปเบเบฒเบ

#### เบชเปเบฒเบเบเบนเปเปเบเปเปเปเป
```bash
curl -X POST "http://localhost:8000/api/users/" \
-H "Content-Type: application/json" \
-d '{
  "username": "somsak",
  "email": "somsak@example.com",
  "password": "123456",
  "first_name": "เบชเบปเบกเบชเบฑเบ",
  "last_name": "เบงเบปเบเบชเบต",
  "phone": "+8562012345678",
  "bio": "เบชเบฐเบเบฒเบเบเบต, เบเปเบญเบเบเบทเปเบชเบปเบกเบชเบฑเบ!"
}'
```

#### เปเบญเบปเบฒเบเบนเปเปเบเปเบเบฑเบเปเบปเบ
```bash
curl -X GET "http://localhost:8000/api/users/?skip=0&limit=10"
```

#### เปเบญเบปเบฒเบเบนเปเปเบเปเบเบฒเบก ID
```bash
curl -X GET "http://localhost:8000/api/users/1"
```

#### เบญเบฑเบเปเบเบเบเบนเปเปเบเป
```bash
curl -X PUT "http://localhost:8000/api/users/1" \
-H "Content-Type: application/json" \
-d '{
  "first_name": "เบชเบปเบกเบชเบฑเบ",
  "bio": "เบญเบฑเบเปเบเบเบเปเปเบกเบนเบเปเปเป"
}'
```

#### เปเบเบปเปเบฒเบชเบนเปเบฅเบฐเบเบปเบ
```bash
curl -X POST "http://localhost:8000/api/users/login" \
-H "Content-Type: application/json" \
-d '{
  "username": "somsak",
  "password": "123456"
}'
```

#### เบฅเบถเบเบเบนเปเปเบเป
```bash
curl -X DELETE "http://localhost:8000/api/users/1"
```

## ๐๏ธ เปเบเบเบชเปเบฒเบเบเบฒเบเบเปเปเบกเบนเบ

เบเบฒเบเบฐเบฅเบฒเบ `users` เบเบฐเบเบญเบเบกเบต:

- `id` - เบเบตเบซเบผเบฑเบ (เปเบเบตเปเบกเบญเบฑเบเบเบฐเปเบเบกเบฑเบ)
- `username` - เบเบทเปเบเบนเปเปเบเปเบเบตเปเบเปเปเบเปเบณเบเบฑเบ (เบชเบนเบเบชเบธเบ 50 เบเบปเบงเบญเบฑเบเบชเบญเบ)
- `email` - เบเบตเปเบขเบนเปเบญเบตเปเบกเบงเบเบตเปเบเปเปเบเปเบณเบเบฑเบ
- `password` - เบฅเบฐเบซเบฑเบเบเปเบฒเบเบเบตเปเปเบเบปเปเบฒเบฅเบฐเบซเบฑเบเปเบฅเปเบง (SHA256)
- `first_name` - เบเบทเปเบเบปเบงเบเบดเบ (เบเปเปเบเบฑเบเบเบฑเบ)
- `last_name` - เบเบฒเบกเบชเบฐเบเบธเบ (เบเปเปเบเบฑเบเบเบฑเบ)
- `phone` - เปเบเบตเปเบเบฅเบฐเบชเบฑเบ (เบเปเปเบเบฑเบเบเบฑเบ)
- `bio` - เบเบณเบเบฑเบเบเบฒเบเบเบปเบง (เบเปเปเบเบฑเบเบเบฑเบ)
- `is_active` - เบชเบฐเบเบฒเบเบฐเบเบฑเบเบเบต (เบเปเบฒเปเบฅเบตเปเบกเบเบปเปเบ: true)
- `is_verified` - เบชเบฐเบเบฒเบเบฐเบเบฒเบเบขเบทเบเบขเบฑเบเบญเบตเปเบกเบง (เบเปเบฒเปเบฅเบตเปเบกเบเบปเปเบ: false)
- `created_at` - เปเบงเบฅเบฒเบเบตเปเบชเปเบฒเบ
- `updated_at` - เปเบงเบฅเบฒเบเบตเปเบญเบฑเบเปเบเบเบเบฑเปเบเบชเบธเบเบเปเบฒเบ

## ๐ เบเบธเบเบชเบปเบกเบเบฑเบเบเบงเบฒเบกเบเบญเบเปเบ

- เบเบฒเบเปเบเบปเปเบฒเบฅเบฐเบซเบฑเบเบฅเบฐเบซเบฑเบเบเปเบฒเบเบเปเบงเบ SHA256
- เบเบฒเบเบเบงเบเบชเบญเบเบเปเปเบกเบนเบเบเบณเปเบเบปเปเบฒเบเปเบงเบ Pydantic
- เบเบฒเบเบเปเบญเบเบเบฑเบ SQL injection เบเปเบงเบ SQLAlchemy
- เบเบฒเบเบเบฑเบเบเบฒเบเบเปเปเบเบดเบเบเบฒเบ เปเบฅเบฐ เบฅเบฐเบซเบฑเบเบชเบฐเบเบฒเบเบฐ HTTP เบเบตเปเบเบทเบเบเปเบญเบ
- CORS middleware เบเบตเปเบเบฑเปเบเบเปเบฒเปเบฅเปเบง

## ๐๏ธ เบเบฒเบเบเบฑเบเบเบฐเบเบฒ

### เบเบฒเบเปเบฎเบฑเบเบงเบฝเบเปเบเปเปเบเบเบฑเบเบเบฐเบเบฒ

```bash
# เบเปเบงเบเบเบฒเบเปเบซเบผเบเบญเบฑเบเบเบฐเปเบเบกเบฑเบ
python main.py

# เบซเบผเบท เปเบเป uvicorn เปเบเบเบเบปเบ
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

### เบเบฒเบเบเบปเบเบชเบญเบ API

เบเปเบฒเบเบชเบฒเบกเบฒเบเบเบปเบเบชเบญเบ API เปเบเบเปเบเป:

1. **Swagger UI**: http://localhost:8000/docs
2. **เบเบณเบชเบฑเปเบ curl** (เบเบปเบงเบขเปเบฒเบเบเปเบฒเบเปเบเบดเบ)
3. **Postman** เบซเบผเบท เปเบเบทเปเบญเบเบกเบทเบเปเบฒเบเบเบทเบเบฑเบ
4. **Python requests library**

### เบเบฒเบเปเบเบตเปเบกเบเบธเบเบชเบปเบกเบเบฑเบเปเปเป

1. **Models**: เปเบเบตเปเบกเปเบเบเบเบณเบฅเบญเบเปเปเปเปเบเปเบเบเปเบเบต `models/`
2. **Schemas**: เบเบณเบเบปเบ Pydantic schemas เปเบเปเบเบเปเบเบต `schemas/`
3. **Controllers**: เบเบฝเบเบฅเบฐเบเบปเบเบเบงเบเบเบธเบกเปเบเปเบเบเปเบเบต `controllers/`
4. **Routes**: เบชเปเบฒเบเปเบชเบฑเปเบเบเบฒเบ API เปเบเปเบเบเปเบเบต `routes/`
5. **Update**: เบฅเบงเบก router เปเปเปเปเบ `main.py`

## ๐ฆ เปเบเบฑเบเปเบเบตเบเบเบตเปเปเบเป

- **FastAPI**: Framework เบเบตเปเบเบฑเบเบชเบฐเปเปเบชเบณเบฅเบฑเบ APIs
- **SQLAlchemy**: SQL toolkit เปเบฅเบฐ ORM
- **psycopg2-binary**: PostgreSQL adapter
- **pydantic**: เบเบฒเบเบเบงเบเบชเบญเบเบเปเปเบกเบนเบเปเบเบเปเบเป Python type annotations
- **uvicorn**: ASGI server
- **python-dotenv**: เปเบซเบผเบเบเบปเบงเปเบเบชเบฐเบเบฒเบเปเบงเบเบฅเปเบญเบก

## ๐จ เปเบฒเบเปเบซเบเบชเบณเบฅเบฑเบเบเบฒเบเบเบณเปเบเปเบเบดเบ

เบชเบณเบฅเบฑเบเบเบฒเบเบเบณเปเบเปเบเปเบเบดเบ:

1. เบเปเบฝเบ `SECRET_KEY` เปเบ `.env`
2. เบเบฑเปเบ `DEBUG=False`
3. เบเบฑเปเบเบเปเบฒ CORS origins เบเบตเปเบเบทเบเบเปเบญเบ
4. เปเบเปเบเบปเบงเปเบเบชเบฐเบเบฒเบเปเบงเบเบฅเปเบญเบกเบชเบณเบฅเบฑเบเบเปเปเบกเบนเบเบฅเบฑเบ
5. เบเบฑเบเบเบฑเปเบเบเบฒเบเบขเบทเบเบขเบฑเบเบเบปเบงเบเบปเบเบเบตเปเปเปเบฒเบฐเบชเบปเบก (JWT tokens)
6. เปเบเบตเปเบกเบเบฒเบเบเบณเบเบฑเบเบญเบฑเบเบเบฒ
7. เปเบเป production ASGI server เบเบท Gunicorn
8. เบเบฑเปเบเบเปเบฒ database connection pooling
9. เบเบฑเบเบเบฑเปเบเบเบฒเบเบเบฑเบเบเบถเบ log
10. เปเบเบตเปเบกเบเบฒเบเปเบเปเบเปเบงเบตเบเบฑเบ API

## ๐ เบเบฒเบเปเบเปเปเบเบเบฑเบเบซเบฒ

### เบเบฑเบเบซเบฒเบเบปเปเบงเปเบ

1. **เบเปเปเบเบดเบเบเบฒเบเบเบฒเบเปเบเบทเปเบญเบกเบเปเปเบเบฒเบเบเปเปเบกเบนเบ**
   - เบเบงเบเบชเบญเบเบงเปเบฒ PostgreSQL เบเบณเบฅเบฑเบเปเบฎเบฑเบเบงเบฝเบ
   - เบขเบทเบเบขเบฑเบเบเปเปเบกเบนเบเบเบฐเบเบณเบเบปเบงเบเบฒเบเบเปเปเบกเบนเบเปเบ `.env`
   - เปเบซเปเปเบเปเปเบเบงเปเบฒเบเบฒเบเบเปเปเบกเบนเบเบกเบตเบขเบนเป

2. **เบเปเปเบเบดเบเบเบฒเบ Module Import**
   - เบเบงเบเบชเบญเบเปเบเบฅเป `__init__.py` เบกเบตเบขเบนเปเปเบเบเบธเบเปเบเบเปเบเบต
   - เบขเบทเบเบขเบฑเบเบงเปเบฒ virtual environment เบเบทเบเปเบเบตเบเปเบเปเบเบฒเบ

3. **Port เบเบทเบเปเบเปเปเบฅเปเบง**
   - เบเปเบฝเบ port เปเบ `main.py` เบซเบผเบท เบเบดเบ process เบเบตเปเปเบเป port 8000

4. **เบเปเปเบเบดเบเบเบฒเบเบชเบดเบเบเบด**
   - เบเบงเบเบชเบญเบเบชเบดเบเบเบดเบเบนเปเปเบเปเบเบฒเบเบเปเปเบกเบนเบ
   - เปเบซเปเปเบเปเปเบเบงเปเบฒเบกเบตเบชเบดเบเบเบดเบเบฝเบเปเบเปเบเบเปเบเบตเปเบเบฃเปเบเบฑเบ

## ๐ฏ เบเบฒเบเปเบเปเบเบฒเบ

### เปเบเบปเปเบฒเปเบเบเบตเป Swagger UI:
http://localhost:8000/docs

### เบเบปเบเบชเบญเบเบเบฒเบเบชเปเบฒเบเบเบนเปเปเบเป:
1. เบเบฅเบดเบเบเบตเป `POST /api/users/`
2. เบเบฅเบดเบ "Try it out"
3. เปเบชเปเบเปเปเบกเบนเบ:
```json
{
  "username": "เปเบเบ",
  "email": "khong@example.com",
  "password": "123456",
  "first_name": "เปเบเบ",
  "last_name": "เบฅเบฒเบง"
}
```
4. เบเบฅเบดเบ "Execute"

### เบเบงเบเบชเบญเบเบเบปเบเบฅเบฑเบ:
เบเปเบฒเบเบเบฐเปเบซเบฑเบเบเบปเบเบเบญเบเบเบฑเบเบเบตเปเบกเบต status code 201 เปเบฅเบฐเบเปเปเบกเบนเบเบเบนเปเปเบเปเบเบตเปเบชเปเบฒเบเปเปเป

## ๐ เบเบฒเบเบชเบฐเปเบฑเบเบชเบฐเปเบนเบ

เบเปเบฒเบกเบตเบเบฑเบเบซเบฒ:
1. เบเบงเบเบชเบญเบ logs เปเบเบทเปเบญเปเบเบดเปเบเบเปเปเบเบงเบฒเบกเบเบดเบเบเบฒเบเบฅเบฐเบญเบฝเบ
2. เบขเบทเบเบขเบฑเบเบงเปเบฒเปเบเบฑเบเปเบเบตเบเบเบฑเบเปเบปเบเบเบทเบเบเบดเบเบเบฑเปเบ
3. เปเบซเปเปเบเปเปเบเบงเปเบฒเบเบฒเบเปเบเบทเปเบญเบกเบเปเปเบเบฒเบเบเปเปเบกเบนเบเปเบฎเบฑเบเบงเบฝเบ
4. เบเบงเบเบชเบญเบเปเบญเบเบฐเบชเบฒเบ API เบเบตเป `/docs`

## ๐ เปเบเบญเบฐเบเบธเบเบฒเบ

เปเบเบฃเปเบเบฑเบเบเบตเปเปเบกเปเบเบชเบณเบฅเบฑเบเบเบฒเบเบชเบถเบเบชเบฒ. เบชเบฒเบกเบฒเบเปเบเปเปเบเบเบฒเบกเบเบงเบฒเบกเปเปเบฒเบฐเบชเบปเบกเบชเบณเบฅเบฑเบเบเบฒเบเปเบเปเบเบฒเบเบเบญเบเบเปเบฒเบ.

---

๐ **เบเปเปเบซเปเบกเบตเบเบงเบฒเบกเบชเบธเบเบเบฑเบเบเบฒเบเบเบฑเบเบเบฐเบเบฒ!** ๐